!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=()=>{let e,t;document.querySelector(".right").addEventListener("click",n=>{void 0!==(e=n.target).dataset.popup&&((t=document.querySelector(`${e.dataset.popup}`)).style.display="block"),void 0!==e.dataset.popup&&t.addEventListener("click",e=>{let n=e.target;(n.classList.contains("overlay")||n.closest(".close-form"))&&(t.style.display="none")})})};var o=()=>{const e=document.querySelector("body"),t=document.createElement("div");t.classList.add("toDel"),t.style.cssText="margin-top: 10px !important",e.addEventListener("submit",e=>{e.preventDefault();let r=e.target;r.appendChild(t),t.innerHTML='<img src = "./images/send-status/loadiiing.gif" width = "100" !important>';let o=r.querySelectorAll("input");const s=new FormData;o.forEach(e=>{"hidden"!==e.type&&"checkbox"!==e.type&&s.append(e.name,e.value)}),n(s).then(e=>{if(200!==e.status)throw new Error("status network");t.innerHTML='<img src = "./images/send-status/Download-Success-PNG-Image.png" width = "100" !important>',setTimeout(()=>t.remove(),2e3),r.querySelectorAll("input").forEach(e=>{e.value="",e.classList.remove("success")})}).catch(e=>{t.innerHTML='<img src = "./images/send-status/error.png" width = "100" !important>',setTimeout(()=>t.remove(),2e3),console.error(e)})});const n=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:e})};var s=()=>{class e{constructor({selector:e,pattern:t={},method:n}){this.form=document.querySelector(e),this.pattern=t,this.method=n,this.elementsForm=[...this.form.elements].filter(e=>"button"!==e.tagName.toLowerCase()&&"button"!==e.type),this.elementsButtons=[...this.form.elements].filter(e=>"button"==e.tagName.toLowerCase()||"button"==e.type),this.error=new Set}init(){this.applyStyle(),this.setPattern(),this.elementsForm.forEach(e=>e.addEventListener("change",this.checkIt.bind(this))),this.form.addEventListener("submit",e=>{this.elementsForm.forEach(e=>this.checkIt({target:e})),this.error.size&&e.preventDefault()})}isValid(e){const t={notEmpty:e=>""!==e.value.trim(),pattern:(e,t)=>t.test(e.value)};if(this.method){const n=this.method[e.id];if(n)return n.every(n=>t[n[0]](e,this.pattern[n[1]]))}else console.warn("Необходимо передать id полей ввода и метода этих полей!");return!0}checkIt(e){const t=e.target;this.isValid(t)?(this.showSucces(t),this.error.delete(t)):(this.showError(t),this.error.add(t)),this.error.size?this.disabled||this.elementsButtons.forEach(e=>{e.setAttribute("disabled","true")}):this.elementsButtons.forEach(e=>{e.disabled=!1})}showError(e){e.classList.remove("success"),e.classList.add("error")}showSucces(e){e.classList.remove("error"),e.classList.add("success")}applyStyle(){const e=document.createElement("style");e.textContent="\n        input.success {\n          border: 2px solid green !important\n        }\n        input.error {\n            border: 2px solid red !important\n        }\n        ",document.head.appendChild(e)}setPattern(){this.pattern.phone||(this.pattern.phone=/^\+?[78]([-()]*\d){10}$/),this.pattern.email||(this.pattern.email=/^\w+@\w+\.\w{2,}$/)}}const t=new e({selector:"#banner-form",pattern:{name:/^[А-Яа-яЁё\s]+$/,phone:/^\+?[78]\d{10}$/},method:{phone:[["notEmpty"],["pattern","phone"]],name:[["notEmpty"],["pattern","name"]]}}),n=new e({selector:"#card_order",pattern:{name:/^[А-Яа-яЁё\s]+$/,phone:/^\+?[78]\d{10}$/},method:{"callback_form-phone":[["notEmpty"],["pattern","phone"]],"callback_form-name":[["notEmpty"],["pattern","name"]]}}),r=new e({selector:"#footer_form",pattern:{phone:/^\+?[78]\d{10}$/},method:{"callback_footer_form-phone":[["notEmpty"],["pattern","phone"]]}}),o=new e({selector:"#form1",pattern:{name:/^[А-Яа-яЁё\s]+$/,phone:/^\+?[78]\d{10}$/},method:{"callback_form1-name":[["notEmpty"],["pattern","phone"]],"callback_form1-phone":[["notEmpty"],["pattern","phone"]]}}),s=new e({selector:"#form2",pattern:{name:/^[А-Яа-яЁё\s]+$/,phone:/^\+?[78]\d{10}$/},method:{"callback_form2-name":[["notEmpty"],["pattern","phone"]],"callback_form2-phone":[["notEmpty"],["pattern","phone"]]}});t.init(),n.init(),r.init(),o.init(),s.init()};var a=function(){document.querySelector("body").addEventListener("input",()=>{let e=event.target,t=e.id;(/name$/.test(t)||/message$/.test(t))&&(e.value=e.value.replace(/[^А-Яа-яёЁ\s]/gim,""))})};(()=>{const e=document.querySelector("body"),t=document.querySelector(".clubs-list > ul");e.addEventListener("click",e=>{e.target.closest(".clubs-list")?t.style.display="block":t.style.display="none"})})(),r(),o(),s(),a()}]);